<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Uniqbook –ö–∞—Ç–∞–ª–æ–≥</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f4f4f4;
      margin: 0; padding: 0;
    }
    .container {
      max-width: 900px;
      margin: auto;
      padding: 20px;
      background: #fff;
      margin-top: 30px;
      border-radius: 10px;
    }
    h1, h2 { text-align: center; }
    .step { display: none; }
    .active { display: block; }
    .categories button {
      margin: 10px;
      padding: 12px 20px;
      font-size: 16px;
      border-radius: 8px;
      border: 1px solid #333;
      cursor: pointer;
    }
    .image-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
      gap: 16px;
      margin-top: 20px;
    }
    .image-option {
      border: 2px solid transparent;
      border-radius: 10px;
      overflow: hidden;
      cursor: pointer;
    }
    .image-option.selected {
      border-color: #007bff;
    }
    .image-option img {
      width: 100%;
      display: block;
    }
    input[type="tel"] {
      padding: 10px;
      font-size: 16px;
      width: 100%;
      border-radius: 6px;
      border: 1px solid #aaa;
    }
    button.send {
      background: #007bff;
      color: white;
      padding: 12px 30px;
      border: none;
      font-size: 16px;
      border-radius: 6px;
      margin-top: 20px;
      cursor: pointer;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- –®–∞–≥ 1 -->
    <div id="step1" class="step active">
      <h1>–î–ª—è –∫–æ–≥–æ –∫–Ω–∏–≥–∞?</h1>
      <div class="categories">
        <button onclick="chooseCategory('boy')">üë¶ –ú–∞–ª—å—á–∏–∫</button>
        <button onclick="chooseCategory('girl')">üëß –î–µ–≤–æ—á–∫–∞</button>
        <button onclick="chooseCategory('man')">üë® –ú—É–∂—á–∏–Ω–∞</button>
        <button onclick="chooseCategory('woman')">üë© –ñ–µ–Ω—â–∏–Ω–∞</button>
      </div>
    </div>

    <!-- –®–∞–≥ 2 -->
    <div id="step2" class="step">
      <h2>–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∏–ª—å</h2>
      <div class="image-grid" id="styleOptions"></div>
      <button onclick="goToStep(3)" class="send">–î–∞–ª–µ–µ</button>
    </div>

    <!-- –®–∞–≥ 3 -->
    <div id="step3" class="step">
      <h2>–û—Å—Ç–∞–≤—å—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</h2>
      <input type="tel" id="phone" placeholder="+7 777 123 4567" />
      <button onclick="submitForm()" class="send">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
    </div>
  </div>

  <script>
    const styles = {
      "boy": `...`,     // —Å—é–¥–∞ –≤—Å—Ç–∞–≤–ª—è—é—Ç—Å—è div'—ã —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏ –¥–ª—è –º–∞–ª—å—á–∏–∫–æ–≤
      "girl": `...`,    // ...–¥–ª—è –¥–µ–≤–æ—á–µ–∫
      "man": `...`,     // ...–¥–ª—è –º—É–∂—á–∏–Ω
      "woman": `...`    // ...–¥–ª—è –∂–µ–Ω—â–∏–Ω
    };

    let selectedImage = "";
    let selectedCategory = "";

    function chooseCategory(cat) {
      selectedCategory = cat;
      document.getElementById("styleOptions").innerHTML = styles[cat];
      goToStep(2);
    }

    function selectImage(name) {
      document.querySelectorAll('.image-option').forEach(el => el.classList.remove('selected'));
      const el = [...document.querySelectorAll('.image-option')].find(div => div.innerHTML.includes(name));
      if (el) el.classList.add("selected");
      selectedImage = name;
    }

    function goToStep(n) {
      document.querySelectorAll(".step").forEach(s => s.classList.remove("active"));
      document.getElementById("step" + n).classList.add("active");
    }

    function submitForm() {
      const phone = document.getElementById("phone").value;
      if (!phone || !selectedImage || !selectedCategory) {
        alert("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∏–ª—å.");
        return;
      }
      const text = `üìö –ó–∞—è–≤–∫–∞ –Ω–∞ –∫–Ω–∏–≥—É\n–ö–∞—Ç–µ–≥–æ—Ä–∏—è: ${selectedCategory}\n–°—Ç–∏–ª—å: ${selectedImage}\n–¢–µ–ª–µ—Ñ–æ–Ω: ${phone}`;
      fetch("https://api.telegram.org/bot7660930209:AAHx2T9toG1LID97XAlB8Ha1FOgeVfa53lM/sendMessage", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          chat_id: "-4854461003",
          text: text
        })
      }).then(() => {
        alert("–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!");
        goToStep(1);
      }).catch(() => {
        alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ.");
      });
    }
  </script>
</body>
</html>
